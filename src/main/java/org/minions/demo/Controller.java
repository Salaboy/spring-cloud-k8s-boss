package org.minions.demo;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.net.InetAddress;
import java.net.UnknownHostException;
import java.util.Random;

import static org.springframework.web.bind.annotation.RequestMethod.GET;
import static org.springframework.web.bind.annotation.RequestMethod.POST;

@RestController
public class Controller {

    private final String version = "0.1";

    private static final Logger LOG = LoggerFactory.getLogger(Controller.class);

    private String[] missionTypes = {"do the laundry", "mine some cryto currencies", "buy groceries", "read a book", "do some coding"};

    @Value("boss")
    private String appName;

    @GetMapping(path = "/mission/{minion}")
    public String mission(@PathVariable String minion) {
        LOG.info("Minion: " + minion + " is ready to work!");
        int randomTask = new Random().nextInt(missionTypes.length);
        return missionTypes[randomTask];
    }

    @GetMapping(path = "/")
    public String boss() throws UnknownHostException {

        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("Host: ").append(InetAddress.getLocalHost().getHostName()).append("<br/>");
        stringBuilder.append("Minion Type: ").append(appName).append("<br/>");
        stringBuilder.append("IP: ").append(InetAddress.getLocalHost().getHostAddress()).append("<br/>");
        stringBuilder.append("Version: ").append(version).append("<br/>");
        stringBuilder.append("<code><span style=\"display:block;line-height:8px; font-size: 8px; font-weight:bold;white-space:pre;font-family: monospace;color: black; background: white;\">                                                                                                                                                               \n" +
                                     "                                                                                                                                                               \n" +
                                     "               ........                                                                                                                                        \n" +
                                     "             .....,,,.                                                                                                                                         \n" +
                                     "          .,,,,,,/.    ,.                                             ,/(##%(....(######*.                                                                     \n" +
                                     "         ,,*//////.   ***                                          .*,,,,,,,,,.,,,,*****,**,.                                                                  \n" +
                                     "        .,*/*//****,***/                                          ,,,...,,,,....,,,,,,,..,,,,,,                                                                \n" +
                                     "        .,*****,,,,****                                        ..,,, *#&*,,......,,,..#%#..,,,,,,.,,.                                                          \n" +
                                     "        .,****,,,,**/,                                        .,,,,...**,,........,,,,,*,,,,,,,,,,,*,                                                          \n" +
                                     "         ,****,,*//.                                          ,,.,,,,,,,..,.....,,*,,,,****,...,,,,,,                                                          \n" +
                                     "         ,******/,                                            ,,..........,,,******,,,.......,,,,,,,,(.                                                        \n" +
                                     "         .****/*                                              ,,.........,,,,,***,,,,,,,,,,,,,,,,,,,(%&(                                                       \n" +
                                     "        .,,,***,                                             ,,,,,.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,**(&/##                                                      \n" +
                                     "       /%######%&*                                         .*/,,,,,,,,,,,,,,,,,,,,,,,,,,,**,,,,,****(&(//#/.                                                   \n" +
                                     "       (%%%%&&%%&/                                       ,((/#/,,,,,,,,,,,,,,,,,,,,,,****,,,********#@(//(###(,                                                \n" +
                                     "       (%%%%&&%%&(                                    .(##(//(%**,,,,,,*,,,,,*******/**,***********/@&///##((((#/.                                             \n" +
                                     "       (%%%%&&%&@#                                  *##((((///%#*****,,,,,,***********************#&%///(#####(((##(,                                          \n" +
                                     "       (%%%%&&&&@%                              .(##((((###(/(#******,********************////(&&&%#/((######(((((##%#*.                                     \n" +
                                     "       (%%%%&&&%&&.                        .*#%###%&&&&&&%#(#&&%&&/************************///#&%&&%%&&(##%&&&&&&&&&%((((##%(*                                 \n" +
                                     "       /%%%%&&&%%&*                 .,***(#################((%&&(/#//***************////(#%#((#&&&&&&###############((((((#%***,.                          \n" +
                                     "       /%%%%&&&&%             ./#########################(%&&&((//(#%%#((/////////((####((((((#&&&&&&&%####################(#%((###%#*                       \n" +
                                     "       *%%%%&&&&%&%.          *%#(((###############%#######&&&&&%(((((((((((%&&&&@@#(#####((((##%&&&&%%%%#######%%############%%########%%.                    \n" +
                                     "       ,%%%%&&&&%&&*       .(%#((#######%%%#%#######%%####%&%%&&%(######((((%@@@@@@#((#######(((&(////(####%%%##############%########%%%&&*                  \n" +
                                     "       .%%%%%&&&&%&%*   .(%##(#####%%%%%%%%%%%%%%%%%%%%%%%#((###%#((((((((###@@@@@@%####((((###(///////((##%&%##########%%%%%%%#######%%%%%%&/                 \n" +
                                     "        #%%%%&&&&%&*#%##(#####%%%&&&%&&%%%%%%%%%%%%%%%%#/////////%@&%%#((((&&&&&((##%%&&&&(///(////(#&%%######%%%%%%%%%%%%&%%%%%%%%%%%%%%&,                \n" +
                                     "        (%%%%%&&&%&&&%((#####%%&&&&&&&&&&&%%%%%%%%%%%%%%%(/(/(/(///%%#%%%&&&@@%%%%&@&&%%%%##%%///(((//((#%%%#%#%%%%%%%%%%%%%%%&%%&&&%%#%%%%%%&%                \n" +
                                     "        *%%%%%%&&&%&&&@@%%%&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%(/(///(//(%%######%&%*. *%%%#######%%/(((((//((#%%%%%%%%%%%%%%%%%%%%%&&&&&&%%%%%%%%%%%,               \n" +
                                     "        .%%%%%%%&&%&&&&@@&&&&&&&&&&&@@&&&&&&&%%%%%%%%%%%%(////((//(%%######%%%/,.,#%%######%%#//((((//((#%%%%%%%%%%%%%%%%%%%%%&&&&&&&&%%%%%%%%%(               \n" +
                                     "         #%%%%%%&&%&&&@@@@&&&&&&&&@@@@&&&&&&&&%%%%%%%%%%#((///((//(&%######%%#((%/#%%######%&%#%%%#######%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&%%%%%%%.              \n" +
                                     "         (%%%%%%%&%&&&&&@&&&&&&@@@@@@@@&&&&&&&%%%%%%%%%%#((///////(@&%&%%##%   .%%%%%&&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%&&&&&&&&&&&%%%%%%&*              \n" +
                                     "         /&&%%%%%&%%&&&&&&&&&&&&&&&&@@&&&&&&&&&%%%%%%%%%##((((((//#@%%%%%%&%%#*,*(%%%&&%%%%%%&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%&&@&&&&&&&&&&%%%%%%(              \n" +
                                     "          .*(#&%%%&&&&&&%%#(//////((##%%%%%%%%%%%%%%%%%%&&&&&&&&&&@&%%%####%%#,../%%%%%%%%%%%%######%##%%%%%%%%%%%%%%%%%%%%%%&&&@@&&&&&&&&%%%%%%%.             \n" +
                                     "               *((*,,,,                  /%&%%%%%%%%%%%%&&&%%&%%%&@&%######%%#,.,/%%%%%%%%%%%(((((((((((#%%%%%%%%%%%%%%%%%%%&&@*#@@&&&&&&%&%%%%%%*             \n" +
                                     "                                         .%%%%%%%%%%%%%%&%%%%%%%%&@%######%%%#,.,(%%%%%%%%%%&(((((((((((#%%%%%%%%%%%%%%%%%%%&&%. %@@&&&&&&&&%%%%%(             \n" +
                                     "                                          #%%%%%%%%%%%%%(/(//////(%%######%%%%,,,/%%%%%%%%%%&(((((((((((#%%%%%%%%%%%%%%%%%%&&&(  .&@@&&&&&&&%%%%%%.            \n" +
                                     "                                          *%%%%%%%%%%%%%((((((///(%#######%%%%,,*#&%%%%%%%%%&(((((((((((#%%%%%%%%%%%%%%%%%%&&&,   *@@@&&&&&&&%%%%&*            \n" +
                                     "                                          .%%%%%%%%%%%%%((((((///(######%%%%,,*%&%%%%%%%%&&(((((((((((#%%%%%%%%%%%%%%%%%%&     #@@&&&&&&&%%%%%(            \n" +
                                     "                                           (%%%%%%%%%%%%(((((////(#######&&(,,*#&&%%%%%%%&&(((((((((((#%%%%%%%%%%%%%%%%%&&&(      %@@&&&&&&&%%%%%.           \n" +
                                     "                                           *%%%%%%%%%%%%((((((///(######%&%(,,*#&&%%%%%%%&###(((((((%%%%%%%%%%%%%%%%%%&&&,      .&@@&&&&&&%%%%&,           \n" +
                                     "                                           .%%%%%%%%%%%%(((((((//(######%%%%,,*%&%&&%%&&&&&@@@&&&&&&&&%%%%%%%%%%%%%%%%%%&&%.       *@@&&&&&&&%%%%&*          \n" +
                                     "                                           .#%%%%%%%%%%%(/(((((///&%######%%%%,,*%&%&&%&&&&&&@@@&&&&&&&&%%%%%%%%%%%%%%%%%&&         #@@&&&&&&%%%%%(          \n" +
                                     "                                            (%%%%%%%%%%%%&&&%%%%%%@%#####%%&%/,,/%&&%&&&&&&&&@@@@&&&&&&&%%%%%%%%%%%%%%%%%&&&(          #@@&&&&&&&%%%%.         \n" +
                                     "                                            *%%%%%%%%%%%%&&&&&&&%&@%#####%%&&(,*/#&@%%&&&&&&%(((((((((((%%%%%%%%%%%%%%%%%&&%*          .@@@@@&&&&%%%%,         \n" +
                                     "                                            .%%%%%%%%%%%%&&&&&&&%&@%####%%%%&%**/%&%&&&&&&&&%(((((((((((%&%%%%%%%%%%%%%%&&&%.           *@@&&@&&@%%%%(         \n" +
                                     "                                            .#%%%%%%%%%%#/((((((((%%%###%%%%&%,*/%&%%&&&&&&&%(((((((((((%%%&%%%%%%%%%%%%&&%#            .&@@&&%%%%%%%%         \n" +
                                     "                                             (%%%%%%%%%%#(((((((((%&%#%%%%%%%#**/%&%&&&&&&&&%(((((((((((%%%%&%%%%%%%%%%%&&%(             /@@&&&%%%%%%%,        \n" +
                                     "                                             /%%%%%%%%%%#(((((((((%&%%%%%%%%%%**/#&%&&&&&&&&%(((((((((((%%%%%%&%%%%%%%%&&&%*              %@@&&%%%%%%%(        \n" +
                                     "                                             ,%%%%%%%%%%#(((((((((#&%%%%%%%%%%**/#&%&&&&&&&&%(((((((((((#%%%%%%%%%%%%%&&&%%.              ,#@&&%%%%%%%%.       \n" +
                                     "                                             .%%%%%%%%%%#(((((((((#&%%%%%%%%%%**/#&&&&&&&&&&%(((((((((((#%%%%%%%%%%%%%&&&%#.               .&&&&%%%%%%%*       \n" +
                                     "                                              #%%%%%%%%%#(((((((((#&%%%%%%%%%%**/#&&&&&&&&&&@@@@@&&&&&&&&%%%%%%%%%%%%&&&&%(                 (@&&%%%%%%%(       \n" +
                                     "                                              (%%%%%%%%%#((((((((((&%%%%%%%%%%**/#&&&&&&&&&&@@@@&&&&&&&&&%%%%%%%%%%%%&&&&%/                 ,&&&&%%#%%%#       \n" +
                                     "                                              /%%%%%%%%%%%%####(((#&%%%%%%%%%%**/#&&&&&&&&&&&@@@&&&&&&&&&%%%%%%%%%%%%&&&%%*                  (&&&%%#%%%%,      \n" +
                                     "                                              *%%%%%%%%%%&&&&&&&&&@@&%%%%%%%%%**/#&&&&&&&&&&&&&&&&&&&&&%%%%%%%%%%%%%&&&&%%.                  .&&&%%##%%%/      \n" +
                                     "                                              ,%%%%%%%%%%&&&&&&&&&&@&%%%%%%%%%**/#&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%&&&&%#.                   (&&&%###%%#      \n" +
                                     "                                              .%%%%%%%%%#(((((####%&&%%%%%%%%%/*/(&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%&%&&%#                    .&&&%%###%%,     \n" +
                                     "                                               #%%%%%%%%#((((((((((%&%%%%%%%%%/*/#&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%&&%/                     (&&%%###%%/     \n" +
                                     "                                               (%%%%%%%%#((((((((((#&%%%%%%%%%///#&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%&%%*                     .%&%%%##%     \n" +
                                     "                                               /%%%%%%%%#((((((((((#@%%%%%%%%%/*/#&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%%%,                      (&%*,,./%,     \n" +
                                     "                                               *%%%%%%%%#((((((((((#@&%%%%%%%%/*/#&&&&&&&&&&&&&&&%%%%%%%%%%%%%%%%%%%%%%%%.                        ,*,.,,       \n" +
                                     "                                                .*(#%%%%#((((((((((#&&%%%%%%&&/*/(&&&&&&&&&&&&&&&&&&%%%%%%%%&&&&&&&%%(*,                         .,..,,,       \n" +
                                     "                                                       .,((((((((((#&&%%%%%%%%(/(#&&&&&&&&&&&&&&&%%%%%&&&&/*,..                               ,,..,,,,.      \n" +
                                     "                                                        *%%####((((#&@@@@@@@@@@&.        /@@&&&@@@@@@@@@&&@/                                   .,,,,,.,,,      \n" +
                                     "                                                        /&&&&&&&&&@@&@@@@@@@@@@%         ,@@&&&@@@@@@@@&&&&*                                  ,.,***,..,,      \n" +
                                     "                                                        (&&&&&&&%&&@&@@@@@@@@@@#         .&@&&&&@@@@@@&&&&&,                                 ,,,.   ,,,,*      \n" +
                                     "                                                        ,/(((##&&&&&&@@@@@@@@@&/          #@&&&&@@@@@&&&&&&.                                .,,.    .,,**      \n" +
                                     "                                                               (&&&&&@@@@@@@@@#,          /@@&&&@@@@@&&&&&%.                                       .,***       \n" +
                                     "                                                               /&&&&&@@@@@&@@@/.          ,@@&&&&&@@&&&&&&%                                   ..,,****.        \n" +
                                     "                                                               ,&&&&&&@@@@&@@@,            %@&&&&&&&&&&&&                                 ./////*,           \n" +
                                     "                                                                %&&&&&&&@&&@@&.            (@&&&&&&&&&&&&&(                                                    \n" +
                                     "                                                                (&&&&&&@@&&@@%             ,@@&&&&&&&&&&&&*                                                    \n" +
                                     "                                                                *&&&&&&@@&&@@(             .&@&&&&&&&&&&&&,                                                    \n" +
                                     "                                                                .&&&&&@@@&&@@*              #@&&&&&&&&&&&&.                                                    \n" +
                                     "                                                                 %&&&&@@@&&@&,              *@&&&&&&&&&&&%                                                     \n" +
                                     "                                                                 (&&&&&@@&&@&.              .&@&&&&&&&&&                                                     \n" +
                                     "                                                                 /&&&&&@@@@@%                #@&&@@@&&&&&(                                                     \n" +
                                     "                                                                 *&&&&&&&&@@#                /@&&&&&&@&&&(                                                     \n" +
                                     "                                                                 /&&&&&@&&@@#                ,@&&&&&&&&@@%                                                     \n" +
                                     "                                                                 .&&&&&@@&@@(                .&@&&&&&&&&@/                                                     \n" +
                                     "                                                                 .&&&&&@&&@@(                 (@&&&&&&&&&(                                                     \n" +
                                     "                                                                 .%&&&&@@&@@(                 /@&&&&@&&&&(                                                     \n" +
                                     "                                                                  %&&&&@&&@@(                 /@&&&@@&&&&(                                                     \n" +
                                     "                                                                  #&&&&@&&@@(                 /@&&&&&&&&&(                                                     \n" +
                                     "                                                                  #&&&&&&&@@(                 *@&&&&&&&&@(                                                     \n" +
                                     "                                                                  (&&&&&&&@@(                 ,@&&&&&&&&@(                                                     \n" +
                                     "                                                                  *&&&&&&&@@(                 .&&&&&&&&&@/                                                     \n" +
                                     "                                                                  ,&&&&&&&@@(                 .&@&&&&&&&&/                                                     \n" +
                                     "                                                                  .&&&&&&&@@(                  %@&&&&&&&&*                                                     \n" +
                                     "                                                                   %&&&&&&@@(                  #@&&&&&&&&*                                                     \n" +
                                     "                                                                   #&&&&@&@@/                  (@&&&&&&&&,                                                     \n" +
                                     "                                                                   (&&&&@&@@/                  /@&&&&&&&&,                                                     \n" +
                                     "                                                                   /&&&&@&@@/                  *@&&&@&&&&.                                                     \n" +
                                     "                                                                   ,&&&&@&@@(                  ,@&&&@&&&&.                                                     \n" +
                                     "                                                                   .&&&&@&@@(                  ,&&&@@&&@%.                                                     \n" +
                                     "                                                                    %&&&@@@@/                  .&@&@@&&@%                                                      \n" +
                                     "                                                                    #&&&@@@@/                  .&@&@@&&@%                                                      \n" +
                                     "                                                                    *&&&@@@@,                   %@@@@&&@#                                                      \n" +
                                     "                                                                     /&&&&&&.                   (@&&@@@(                                                       \n" +
                                     "                                                                     *&&&&@&.                   /@&&@&@(                                                       \n" +
                                     "                                                                     (&&&&@&.                   *@&&&&&%                                                       \n" +
                                     "                                                                    .&&&@&&((((((##(((((((((((#&&&&&&&//*,                                                   \n" +
                                     "                                                               .,*/(#&&@&&&&%((((######(((((((((#&&&&&&((((*                                                 \n" +
                                     "                                                         .*/(((((((#%&&@&&&&%(((((((((((((((((((%&&@&&&&%#(((((((/,. .                                         \n" +
                                     "                                                 .....,///////(##((%&&&&@&&&%#((((((((((((((((((%&&&&&&&%((##(/(///(/,......                                   \n" +
                                     "                                              ......,////////((//(#&&&&@&&&%#((((((((((((((((((#&&&&&&&(((((////////*,.......                                \n" +
                                     "                                             ......,////*////////(#&&&@&(((((((((((((((////(((&&&&&&&%(((/////////////,.......                               \n" +
                                     "                                             .....,/**//////*/////((##%%&@@@@&&%#((//#&&&&&&&%#/(%&&&%((////////////////*.......                               \n" +
                                     "                                               ...,/*********//////(&%@@#(//*/&&&&&@@&%###%&&&%&%///(/////////////////((*.....                                 \n" +
                                     "                                                   ./(/**********///(%&&@@@@&%(/////(#%&&&&%%&%(//////***//////////(#/...                                      \n" +
                                     "                                                      .*(((//****//******//((##%%%%%##((//****//////////***///(#(/,.                                           \n" +
                                     "                                                           ..,*(/************///////////*///////////(##((/*,..                                                 \n" +
                                     "                                                                ,(/**********////////////////////(#(,.                                                         \n" +
                                     "                                                                  .*((((////*/////////////(((#(/,.                                                             \n" +
                                     "                                                                          ...,,,,***,,...                                                                      \n" +
                                     "                                                                                                                                                               \n" +
                                     "                                                                                                                                                               \n" +
                                     "</span></code>");
        return stringBuilder.toString();
    }
}
